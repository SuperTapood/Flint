syntax = "proto3";
option go_package = "github.com/SuperTapood/Flint/core/generated/k8s";

import "k8s/pod.proto";
import "k8s/service.proto";
import "k8s/deployment.proto";
import "k8s/secret.proto";

message K8STypes {
    oneof type {
        Pod pod = 1;
        Service service = 2;
        Deployment deployment = 3;
        Secret secret = 4;
        K8SLookup k8slookup = 5;
        K8SOutput k8soutput = 6;
    }
}

message K8SLookup {
    K8STypes object = 1;
    repeated string keys = 2;
}

message K8SOutputTypes {
    oneof type {
        K8SLookup k8slookup = 1;
        string string = 2;
    }
}

message K8SOutput {
    repeated K8SOutputTypes types = 1;
    string ID = 2; 
    int32 index = 3;
}

message K8SStack {
    repeated K8STypes objects = 1;
    string namespace = 2;
}